<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1592px" preserveAspectRatio="none" style="width:757px;height:1592px;" version="1.1" viewBox="0 0 757 1592" width="757px" zoomAndPan="magnify"><defs><filter height="300%" id="f1n6azoem3uwrf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="603.1768" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="161.5" y="617.0098"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="49.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="325.5" y="182.7305"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="64.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="325.5" y="617.0098"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="72.5869" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="325.5" y="1220.1865"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="145.5186" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="504.5" y="232.3516"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="180.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="504.5" y="681.9414"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="213.5186" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="504.5" y="1292.7734"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="404.2793" style="stroke: #000000; stroke-width: 2.0;" width="648.5" x="12" y="55.4883"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="166" x2="166" y1="38.4883" y2="1552.2578"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="330" x2="330" y1="38.4883" y2="1552.2578"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="509" x2="509" y1="38.4883" y2="1552.2578"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="675.5" x2="675.5" y1="38.4883" y2="1552.2578"/><rect fill="#FEFECE" filter="url(#f1n6azoem3uwrf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="142" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="149" y="23.5352">User</text><rect fill="#FEFECE" filter="url(#f1n6azoem3uwrf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="45" x="142" y="1551.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="31" x="149" y="1571.793">User</text><rect fill="#FEFECE" filter="url(#f1n6azoem3uwrf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="285" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="292" y="23.5352">Blockchain</text><rect fill="#FEFECE" filter="url(#f1n6azoem3uwrf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="285" y="1551.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="292" y="1571.793">Blockchain</text><rect fill="#FEFECE" filter="url(#f1n6azoem3uwrf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="471" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="478" y="23.5352">Contract</text><rect fill="#FEFECE" filter="url(#f1n6azoem3uwrf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="471" y="1551.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="478" y="1571.793">Contract</text><rect fill="#FEFECE" filter="url(#f1n6azoem3uwrf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="610.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="617.5" y="23.5352">Online Resource</text><rect fill="#FEFECE" filter="url(#f1n6azoem3uwrf)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="610.5" y="1551.2578"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="112" x="617.5" y="1571.793">Online Resource</text><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="603.1768" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="161.5" y="617.0098"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="49.6211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="325.5" y="182.7305"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="64.9316" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="325.5" y="617.0098"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="72.5869" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="325.5" y="1220.1865"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="145.5186" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="504.5" y="232.3516"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="180.1738" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="504.5" y="681.9414"/><rect fill="#FFFFFF" filter="url(#f1n6azoem3uwrf)" height="213.5186" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="504.5" y="1292.7734"/><path d="M12,55.4883 L112,55.4883 L112,62.4883 L102,72.4883 L12,72.4883 L12,55.4883 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="404.2793" style="stroke: #000000; stroke-width: 2.0;" width="648.5" x="12" y="55.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="27" y="69.0566">optional</text><rect fill="#EEEEEE" filter="url(#f1n6azoem3uwrf)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="742.5" x="3" y="93.4541"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="745.5" y1="93.4541" y2="93.4541"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="745.5" y1="96.4541" y2="96.4541"/><rect fill="#EEEEEE" filter="url(#f1n6azoem3uwrf)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="158" x="295.25" y="82.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="301.25" y="99.3672">Contract Information</text><polygon fill="#A80036" points="313.5,178.7305,323.5,182.7305,313.5,186.7305,317.5,182.7305" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="166.5" x2="319.5" y1="182.7305" y2="182.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="173.5" y="177.9883">request informations</text><path d="M340,146.1094 L340,201.1094 L479,201.1094 L479,156.1094 L469,146.1094 L340,146.1094 " fill="#FBFB77" filter="url(#f1n6azoem3uwrf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M469,146.1094 L469,156.1094 L479,156.1094 L469,146.1094 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="346" y="163.6777">params : {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="354" y="178.9883">type: infoRequest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="346" y="194.2988">}</text><polygon fill="#A80036" points="492.5,228.3516,502.5,232.3516,492.5,236.3516,496.5,232.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="330.5" x2="498.5" y1="232.3516" y2="232.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="337.5" y="227.6094">trigger contract</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="514.5" x2="556.5" y1="261.6621" y2="261.6621"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="556.5" x2="556.5" y1="261.6621" y2="274.6621"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515.5" x2="556.5" y1="274.6621" y2="274.6621"/><polygon fill="#A80036" points="525.5,270.6621,515.5,274.6621,525.5,278.6621,521.5,274.6621" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="521.5" y="256.9199">collect informations</text><polygon fill="#A80036" points="341.5,373.8701,331.5,377.8701,341.5,381.8701,337.5,377.8701" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="335.5" x2="508.5" y1="377.8701" y2="377.8701"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="347.5" y="373.1279">response informations</text><path d="M22,287.6621 L22,450.6621 L321,450.6621 L321,297.6621 L311,287.6621 L22,287.6621 " fill="#FBFB77" filter="url(#f1n6azoem3uwrf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M311,287.6621 L311,297.6621 L321,297.6621 L311,287.6621 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="28" y="305.2305">message: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="36" y="320.541">type: infoResponse,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="36" y="335.8516">chain: &lt;supported chain&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="36" y="351.1621">price: &lt;price in OneCoin&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="36" y="366.4727">expirationMinutes: &lt;minutes after</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="76" y="381.7832">challenge text is invalid&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="36" y="397.0938">version: &lt;contract version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="36" y="412.4043">contractDomain: &lt;contracts domain&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="36" y="427.7148">resources: &lt;array of supported resources&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="28" y="443.0254">}</text><rect fill="#EEEEEE" filter="url(#f1n6azoem3uwrf)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="742.5" x="3" y="512.4229"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="745.5" y1="512.4229" y2="512.4229"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="745.5" y1="515.4229" y2="515.4229"/><rect fill="#EEEEEE" filter="url(#f1n6azoem3uwrf)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="120" x="314.25" y="501.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="320.25" y="518.3359">Challenge Text</text><polygon fill="#A80036" points="313.5,613.0098,323.5,617.0098,313.5,621.0098,317.5,617.0098" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="171.5" x2="319.5" y1="617.0098" y2="617.0098"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="178.5" y="612.2676">request challenge text</text><path d="M340,565.0781 L340,651.0781 L548,651.0781 L548,575.0781 L538,565.0781 L340,565.0781 " fill="#FBFB77" filter="url(#f1n6azoem3uwrf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M538,565.0781 L538,575.0781 L548,575.0781 L538,565.0781 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="346" y="582.6465">params: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="354" y="597.957">type: challengeTextRequest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="354" y="613.2676">resource: &lt;online resource&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="354" y="628.5781">accountRS: &lt;Account&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="346" y="643.8887">}</text><polygon fill="#A80036" points="492.5,677.9414,502.5,681.9414,492.5,685.9414,496.5,681.9414" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="330.5" x2="498.5" y1="681.9414" y2="681.9414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="337.5" y="677.1992">trigger contract</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="514.5" x2="556.5" y1="711.252" y2="711.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="556.5" x2="556.5" y1="711.252" y2="724.252"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515.5" x2="556.5" y1="724.252" y2="724.252"/><polygon fill="#A80036" points="525.5,720.252,515.5,724.252,525.5,728.252,521.5,724.252" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="521.5" y="706.5098">create text</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="514.5" x2="556.5" y1="753.5625" y2="753.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="556.5" x2="556.5" y1="753.5625" y2="766.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515.5" x2="556.5" y1="766.5625" y2="766.5625"/><polygon fill="#A80036" points="525.5,762.5625,515.5,766.5625,525.5,770.5625,521.5,766.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="521.5" y="748.8203">create signature</text><polygon fill="#A80036" points="341.5,858.1152,331.5,862.1152,341.5,866.1152,337.5,862.1152" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="335.5" x2="508.5" y1="862.1152" y2="862.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="347.5" y="857.373">response challenge text</text><path d="M66,779.5625 L66,926.5625 L321,926.5625 L321,789.5625 L311,779.5625 L66,779.5625 " fill="#FBFB77" filter="url(#f1n6azoem3uwrf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M311,779.5625 L311,789.5625 L321,789.5625 L311,779.5625 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="67" x="72" y="797.1309">message: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="80" y="812.4414">type: challengeTextRespone,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="80" y="827.752">challengeText: "&lt;contractDomain&gt;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="88" y="843.0625">&lt;version&gt;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="88" y="858.373">&lt;accountRS&gt;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="88" y="873.6836">&lt;resource&gt;:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="88" y="888.9941">&lt;unix timestamp&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="80" y="904.3047">signature: &lt;signature&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="72" y="919.6152">}</text><polygon fill="#A80036" points="182.5,978.668,172.5,982.668,182.5,986.668,178.5,982.668" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="318.5,978.668,328.5,982.668,318.5,986.668,322.5,982.668" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="176.5" x2="324.5" y1="982.668" y2="982.668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="188.5" y="977.9258">get challenge text</text><rect fill="#EEEEEE" filter="url(#f1n6azoem3uwrf)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="742.5" x="3" y="1036.3232"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="745.5" y1="1036.3232" y2="1036.3232"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="745.5" y1="1039.3232" y2="1039.3232"/><rect fill="#EEEEEE" filter="url(#f1n6azoem3uwrf)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="95" x="326.75" y="1025.668"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="332.75" y="1042.2363">Verification</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="171.5" x2="213.5" y1="1105.2891" y2="1105.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="213.5" x2="213.5" y1="1105.2891" y2="1118.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="172.5" x2="213.5" y1="1118.2891" y2="1118.2891"/><polygon fill="#A80036" points="182.5,1114.2891,172.5,1118.2891,182.5,1122.2891,178.5,1118.2891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="178.5" y="1100.5469">create token</text><polygon fill="#A80036" points="663.5,1143.5996,673.5,1147.5996,663.5,1151.5996,667.5,1147.5996" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="171.5" x2="669.5" y1="1147.5996" y2="1147.5996"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="178.5" y="1142.8574">post token</text><polygon fill="#A80036" points="313.5,1216.1865,323.5,1220.1865,313.5,1224.1865,317.5,1220.1865" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="166.5" x2="319.5" y1="1220.1865" y2="1220.1865"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="173.5" y="1215.4443">pay ignis</text><path d="M340,1160.5996 L340,1261.5996 L578,1261.5996 L578,1170.5996 L568,1160.5996 L340,1160.5996 " fill="#FBFB77" filter="url(#f1n6azoem3uwrf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M568,1160.5996 L568,1170.5996 L578,1170.5996 L568,1160.5996 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="346" y="1178.168">params: {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="354" y="1193.4785">type: verificationRequest,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="354" y="1208.7891">url: &lt;url of token&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="354" y="1224.0996">challengeText: &lt;challenge text&gt;,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="354" y="1239.4102">signature: &lt;signature&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="346" y="1254.7207">}</text><polygon fill="#A80036" points="492.5,1288.7734,502.5,1292.7734,492.5,1296.7734,496.5,1292.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="330.5" x2="498.5" y1="1292.7734" y2="1292.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="337.5" y="1288.0313">trigger contract</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="514.5" x2="556.5" y1="1322.084" y2="1322.084"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="556.5" x2="556.5" y1="1322.084" y2="1335.084"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515.5" x2="556.5" y1="1335.084" y2="1335.084"/><polygon fill="#A80036" points="525.5,1331.084,515.5,1335.084,525.5,1339.084,521.5,1335.084" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="521.5" y="1317.3418">check signature</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="514.5" x2="556.5" y1="1364.3945" y2="1364.3945"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="556.5" x2="556.5" y1="1364.3945" y2="1377.3945"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515.5" x2="556.5" y1="1377.3945" y2="1377.3945"/><polygon fill="#A80036" points="525.5,1373.3945,515.5,1377.3945,525.5,1381.3945,521.5,1377.3945" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="521.5" y="1359.6523">validate challenge text</text><polygon fill="#A80036" points="525.5,1402.7051,515.5,1406.7051,525.5,1410.7051,521.5,1406.7051" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="663.5,1402.7051,673.5,1406.7051,663.5,1410.7051,667.5,1406.7051" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="519.5" x2="669.5" y1="1406.7051" y2="1406.7051"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="531.5" y="1401.9629">get token</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="514.5" x2="556.5" y1="1436.0156" y2="1436.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="556.5" x2="556.5" y1="1436.0156" y2="1449.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="515.5" x2="556.5" y1="1449.0156" y2="1449.0156"/><polygon fill="#A80036" points="525.5,1445.0156,515.5,1449.0156,525.5,1453.0156,521.5,1449.0156" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="521.5" y="1431.2734">validate token</text><polygon fill="#A80036" points="341.5,1502.292,331.5,1506.292,341.5,1510.292,337.5,1506.292" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="335.5" x2="508.5" y1="1506.292" y2="1506.292"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="347.5" y="1501.5498">set account property</text><path d="M68,1462.0156 L68,1533.0156 L321,1533.0156 L321,1472.0156 L311,1462.0156 L68,1462.0156 " fill="#FBFB77" filter="url(#f1n6azoem3uwrf)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M311,1462.0156 L311,1472.0156 L321,1472.0156 L311,1462.0156 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="74" y="1479.584">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="82" y="1494.8945">property: IdVerConChallengeText[i],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="82" y="1510.2051">value: &lt;challenge text&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="74" y="1525.5156">}</text><!--
@startuml



participant "User" as USER
participant "Blockchain" as BC
participant "Contract" as CO
participant "Online Resource" as ONR

group optional
  == Contract Information ==
  |||
  USER -> BC : request informations
  activate BC
  note right
    params : {
      type: infoRequest
    }
  end note
  BC -> CO : trigger contract
  deactivate BC
  activate CO
  CO -> CO : collect informations
  CO -> BC : response informations
  note left
    message: {
      type: infoResponse,
      chain: <supported chain>
      price: <price in OneCoin>
      expirationMinutes: <minutes after
                challenge text is invalid>
      version: <contract version>
      contractDomain: <contracts domain>
      resources: <array of supported resources>
    }
  end note
  deactivate CO
end
|||
== Challenge Text ==
|||
USER -> BC : request challenge text
activate USER
activate BC
note right
  params: {
    type: challengeTextRequest
    resource: <online resource>
    accountRS: <Account>
  }
end note
BC -> CO : trigger contract
deactivate BC
activate CO
CO -> CO : create text
CO -> CO : create signature
CO -> BC : response challenge text
deactivate CO
note left
  message: {
    type: challengeTextRespone,
    challengeText: "<contractDomain>:
      <version>:
      <accountRS>:
      <resource>:
      <unix timestamp>,
    signature: <signature>
  }
end note
|||
USER <-> BC : get challenge text
|||
== Verification ==
|||
USER -> USER : create token
USER -> ONR : post token
USER -> BC : pay ignis
deactivate USER
activate BC
note right
  params: {
    type: verificationRequest,
    url: <url of token>,
    challengeText: <challenge text>,
    signature: <signature>
  }
end note
BC -> CO : trigger contract
deactivate BC
activate CO
CO <-> CO : check signature
CO <-> CO : validate challenge text
CO <-> ONR : get token
CO -> CO : validate token
CO -> BC : set account property
deactivate CO
note left
{
  property: IdVerConChallengeText[i],
  value: <challenge text>
}
end note

@enduml

PlantUML version 1.2018.12(Sun Oct 21 12:15:15 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>